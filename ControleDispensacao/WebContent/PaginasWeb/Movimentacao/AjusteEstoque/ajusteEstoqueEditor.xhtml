<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<h:panelGrid id="ajusteEstoquePanelGrid" columns="3" width="100%">

		<h:panelGroup>
			<font color="red">*</font>
			<h:outputLabel for="tipoMovimento" value="Tipo do movimento:" />
			<br />
			<p:selectOneMenu
				value="#{ajusteEstoqueRaiz.itensMovimentoGeral.movimentoGeral.tipoMovimento}"
				effect="fade" converter="tipoMovimentoConversor" required="true">
				<f:selectItem itemLabel="Selecione..." itemValue="" />
				<f:selectItems value="#{tipoMovimentoConsulta.list}"
					var="tipoMovimento" itemLabel="#{tipoMovimento.descricao}"
					itemValue="#{tipoMovimento}" />
			</p:selectOneMenu>
		</h:panelGroup>
		
		<h:panelGroup>
			<h:outputLabel for="unidade" value="Unidade:" />
			<br />
			<p:autoComplete id="unidade" 
							forceSelection="true"
							minQueryLength="4" 
							size="30"
							value="#{ajusteEstoqueRaiz.unidade}"
							completeMethod="#{unidadeAutoComplete.autoComplete}"
							var="unidade" 
							title="Informe a unidade para onde está sendo enviado o material."
							scrollHeight="300" 
							itemLabel="#{unidade.nome}"
							itemValue="#{unidade}" 
							converter="unidadeConversor" />
		</h:panelGroup>
		
		<h:panelGroup id="hospitalPanelGroup">
			<h:panelGrid columns="2" width="100%">
				<h:panelGroup>
					<h:outputLabel for="hospital" value="Hospital:" />
					<br />
					<p:selectOneMenu
						value="#{ajusteEstoqueRaiz.itensMovimentoGeral.hospital}"
						effect="fade" converter="hospitalConversor" required="false">
						<f:ajax event="change" render="hospitalPanelGroup" />
						<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
						<f:selectItems value="#{hospitalConsulta.list}" var="hospital"
							itemLabel="#{hospital.nome}" itemValue="#{hospital}" />
					</p:selectOneMenu>
				</h:panelGroup>

				<h:panelGroup id="dataDoacaoPanelGroup"
					rendered="#{ajusteEstoqueRaiz.itensMovimentoGeral.hospital != null}">
					<font color="red">*</font>
					<h:outputLabel for="dataDoacao" value="Data da doação:" />
					<br />
					<p:calendar id="dataDoacao" pattern="dd/MM/yyyy" required="true"
						value="#{ajusteEstoqueRaiz.itensMovimentoGeral.dataDoacao}" />
				</h:panelGroup>
			</h:panelGrid>
		</h:panelGroup>

		<h:panelGroup>
			<font color="red">*</font>
			<h:outputLabel for="motivo" value="Motivo:" />
			<br />
			<p:inputText id="motivo"
				value="#{ajusteEstoqueRaiz.itensMovimentoGeral.movimentoGeral.motivo}"
				required="true" title="Informe o motivo do ajuste" />
		</h:panelGroup>

		<h:panelGroup id="materialPanelGroup">
			<font color="red">*</font>
			<h:outputLabel for="material" value="Material:" />
			<br />
			<p:selectOneMenu value="#{ajusteEstoqueRaiz.material}" effect="fade"
				converter="materialConversor" required="true">
				<f:ajax event="change"
					listener="#{ajusteEstoqueRaiz.carregaEstoqueMaterial()}"
					render="estoquePanelGroup" />
				<f:selectItem itemLabel="Selecione..." itemValue="" />
				<f:selectItems value="#{materialRaiz.listaMaterialEstoque}"
					var="material" itemLabel="#{material.descricaoUnidadeMaterial}"
					itemValue="#{material}" />
			</p:selectOneMenu>
		</h:panelGroup>

		<h:panelGroup id="estoquePanelGroup">
			<font color="red">*</font>
			<h:outputLabel for="lote" value="Lote:" />
			<br />
			<p:selectOneMenu value="#{ajusteEstoqueRaiz.instancia}" effect="fade"
				converter="estoqueConversor" required="true">
				<f:selectItem itemLabel="Selecione..." itemValue="" />
				<f:selectItems value="#{ajusteEstoqueRaiz.estoqueList}"
					var="estoque" itemLabel="#{estoque.toString()}"
					itemValue="#{estoque}" />
			</p:selectOneMenu>
		</h:panelGroup>

		<h:panelGroup>
			<font color="red">*</font>
			<h:outputLabel for="quantidade" value="Quantidade:" />
			<br />
			<p:inputText id="quantidade"
				value="#{ajusteEstoqueRaiz.itensMovimentoGeral.quantidade}"
				required="true" onkeyup="apenasNumero(this);"
				title="Informe a quantidade do ajuste" />
		</h:panelGroup>
	</h:panelGrid>
</ui:composition>