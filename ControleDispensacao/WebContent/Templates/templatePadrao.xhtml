<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<f:view contentType="text/html" locale="pt_BR">

	<h:head>
		<title>Controle de Dispensação</title>
		<ui:insert name="head"></ui:insert>
		<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
		<link type="text/css" rel="stylesheet"
			href="#{request.contextPath}/css/default.css" />
		<script type="text/javascript"
			src="#{request.contextPath}/js/jquery.price_format.1.6.js"></script>
		<script type="text/javascript"
			src="#{request.contextPath}/js/jquery.maskMoney1.4.1.js"></script>
		<script type="text/javascript"
			src="#{request.contextPath}/js/moeda.js"></script>
		<script type="text/javascript"
			src="#{request.contextPath}/js/basico.js"></script>
		<script type="text/javascript"
			src="#{request.contextPath}/js/concentrador.js"></script>

		<script type="text/javascript">
			PrimeFaces.locales['pt_BR'] = {
			                closeText: 'Fechar',
			                prevText: 'Anterior',
			                nextText: 'Próximo',
			                currentText: 'Começo',
			                monthNames: ['Janeiro','Fevereiro','Março','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'],
			                monthNamesShort: ['Jan','Fev','Mar','Abr','Mai','Jun', 'Jul','Ago','Set','Out','Nov','Des'],
			                dayNames: ['Domingo','Segunda','Terça','Quarta','Quinta','Sexta','Sábado'],
			                dayNamesShort: ['Dom','Seg','Ter','Qua','Qui','Sex','Sáb'],
			                dayNamesMin: ['D','S','T','Q','Q','S','S'],
			                weekHeader: 'Semana',
			                firstDay: 1,
			                isRTL: false,
			                showMonthAfterYear: false,
			                yearSuffix: '',
			                timeOnlyTitle: 'Só Horas',
			                timeText: 'Tempo',
			                hourText: 'Hora',
			                minuteText: 'Minuto',
			                secondText: 'Segundo',
			                currentText: 'Data Atual',
			                ampm: false,
			                month: 'Mês',
			                week: 'Semana',
			                day: 'Dia',
			                allDayText : 'Todo Dia'
			            };
</script>

	</h:head>


<h:body id="body" >
	
		<div class="ui-widget ui-widget-header">
			<div id="logo">
				<h1>Controle de Dispensação</h1>
			</div>
		</div>
		
		<br/>
		<div id="geral" 
			 align="center" >
			 <h:form id="menuForm" >
			 	<h:panelGroup id="menuPanelGroup"
			 				  rendered="#{autenticador.usuarioAtivo}" >
					<h:outputLabel for="unidadeSelectOneMenu" value="Unidade Atual:"  /><br />
					<p:selectOneMenu id="unidadeSelectOneMenu"
									 value="#{autenticador.unidadeAtual}"
								 	 effect="fade" 
								 	 converter="unidadeConversor">  
						<f:ajax event="change" 
								render="menuForm" />
			            <f:selectItems value="#{autenticador.unidades}" 
			            			   var="unidade" 
			            			   itemLabel="#{unidade.nome}" 
			            			   itemValue="#{unidade}"/>  
		        	</p:selectOneMenu>
		        	<br/>
		        	<h:outputText value="#{autenticador.profissionalAtual.nome}"/>
		        	#{': '}
		        	<h:outputText value="#{autenticador.profissionalAtual.especialidade.descricao}" 
		        				  style="font-weight: bold;"/>
					<ui:include src="menu.xhtml" />
				</h:panelGroup>
			</h:form>
			<br/>
			<div id="conteudoPadrao" align="center" >
				<p:growl></p:growl>
				
				<p:dialog header="#{header}"
						  widgetVar="padraoDialog" 
						  modal="false" >  
				    <ui:insert name="dialogGeneric"/>
				</p:dialog> 
				
				<p:tabView id="padraoTabView" 
						   effect="opacity" 
						   effectDuration="normal" 
						   cache="true" >
					<ui:insert name="conteudoPadrao"/>
				</p:tabView>
				<ui:insert name="conteudoPadraoSemTab"/>
			</div>
	
			<p:dialog id="genericDialog" 
					  widgetVar="genericoDialog" 
					  height="300" 
					  width="600" 
					  resizable="true" 
					  modal="true" 
					  showEffect="clip" >
				<ui:insert name="modal"></ui:insert>
			</p:dialog>
	
			<div id="footer" class="ui-widget ui-widget-header ui-corner-all">
				<p class="copyright">&copy;&nbsp;&nbsp;2012 &nbsp;&bull;&nbsp;</p>
				<p style="float:right">Rodando com PrimeFaces 3 no JSF2.0</p>
			</div>
		</div>			

        <ui:insert name="status">
        	<p:ajaxStatus onstart="statusDialog.show();" onsuccess="statusDialog.hide();"/>  
			<p:dialog modal="true" widgetVar="statusDialog" header="Aguarde..."   
			        draggable="false" closable="false">  
			    <p:graphicImage value="/Imagens/ajaxloadingbar.gif" />  
			</p:dialog>  
        
        </ui:insert>
	</h:body>

</f:view>
</html>
